# Sub-chaining styleとflat-chaining style双方の形式に対応したfluent interfaceの生成に向けた形式的な取り組み

PPL2022の発表

## どんなもの？

- メソッドチェーンの呼び出し規則を、LL(1)構文解析を用いて型検査する

## 先行研究と比べてどこがすごい？

- 規則と生成できるプログラムの関係がわかりやすい

## 技術や手法のキモはどこ？

- 複雑になる呼び出しインターフェースを、構文解析の手法を用いて簡潔に表した

## どうやって有効だと確証した？

- 与えられた呼び出し規則がLL(1)なら、インターフェースもLL(1)(例外あり)であることを証明した

## 議論はある？

TODO

## メモ

- 誤った呼び出しはバグの原因となる
  - 例えば`new SQL().select("*").from("members.db").from("members2.db").from("members3.db")`
- Fluent interface
  - メソッド呼び出しの連鎖の形で呼び出すように設計されてたライブラリインターフェース
  - メソッドチェーンとか言われるやつ
- かんたんな解決策
  - 関数を呼び出すたびに、次に呼び出せる関数のみ呼び出せる新たな型を返すようにする
- 既存の技術
  - 既存の検査付き生成器の主な対象はflat-chaining style
  - どんな規則なら生成ができるのかが分かりづらい
- LL(1)構文解析として、プログラムが期待した集合に入っているかを解析する
  - 呼び出し規約は構文解析の文法、メソッド呼び出しは構文解析のトークンに当たる
  - 与えられた呼び出し規則がLL(1)なら、インターフェースもLL(1)(例外あり)であることを証明した
