# margraph用中間表現

工数は増えるけれど、これは疎結合・高凝縮性の確保のために必要なんじゃないかな。これまではHTMLを生成する箇所が色んな場所に別れていたせいで、最終的な表示のためのコードがいろんな箇所に散らかってしまった。また、Markdownパーサーが生成したタグに表示用のクラスをつけることができなくて、その部分にbootstrapを設定できなかった。

独自で書き換えない部分については、ほとんどKramdownの出力をそのまま使う。タグごとにすべての中間表現を作ると、ほとんど区別しないのに異なるパターンが大量に出てしまう。なので、必要になったときに必要になった分を実装する方針にする。

pathを使う場所に関しては、aタグと中間表現で分ける。aタグの方は、実際のHTMLを直接埋め込む形にする(そうしないとリンクの内側を中間表現で持たないといけず、かなり手間がかかる)。中間表現の方は、Collect Articlesのpathと同じ形で持つようにする(拡張子などを省略することに注意)。

記事の中間表現のテスト用

また同名の画像ファイルとコードファイルがあり、margraphの添付ファイルとして導入されるとする

ここに書かれていない要素は、elementの中に直接入れる

