# git

- 言わずと知れたバージョン管理ツール
  - 主にソースコードのバージョン管理に使われるけれど、その他セーブデータの管理とかにも使えるよ！

## 内部実装

- https://koseki.hatenablog.com/entry/2014/04/22/inside-git-1
- Gitオブジェクトデータベース
  - Gitオブジェクトは`.git/objects/*`以下に格納されているデータ(数が多くなるとpack形式としてまとめられたりもするらしい)
  - `tree`(ディレクトリ)、`blob`(ファイル)、`commit`(コミット)、`tag`(タグ)のデータがごっちゃになってる
- リファレンス
  - `.git/refs/heads/`以下に格納されていて、コミットオブジェクトのIDがそのまま書かれてる
  - リファレンスのリファレンスもある(`.git/HEAD`とか)
- オブジェクトの関連性
  - `tree`と`blob`でできたツリーがコミット毎にあり、更にそのコミットが連鎖する形で形作られる
  - 前者はディレクトリ構造、後者はコミット履歴で見る形
  - さらにコミットに対して、タグ、リファレンスが付く。たまにリファレンスのリファレンスも付く
- オブジェクトのIDと中身
  - `オブジェクトの種類 + ' ' + データのサイズ + '\0' + データ`をSHA1関数に入れたものがID
  - 上の文字列をZlibで圧縮したものがGitオブジェクトの中身
